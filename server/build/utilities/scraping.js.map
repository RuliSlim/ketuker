{"version":3,"sources":["../../src/utilities/scraping.js"],"names":["puppeteer","require","getTokoPedia","item","processedItem","split","join","launch","headless","browser","newPage","page","setDefaultNavigationTimeout","setViewport","width","height","waitUntil","evaluate","div","document","querySelectorAll","productnames","forEach","element","titleelem","querySelector","textContent","priceitem","push","title","price","productNames","close"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;SACeC,Y;;;;;0EAAf,iBAA4BC,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AACMC,YAAAA,aADN,GACsBD,IAAI,CAACE,KAAL,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,KAArB,CADtB;AAAA;AAAA,mBAEwBN,SAAS,CAACO,MAAV,CAAiB;AAAEC,cAAAA,QAAQ,EAAE;AAAZ,aAAjB,CAFxB;;AAAA;AAEQC,YAAAA,OAFR;AAAA;AAAA,mBAGqBA,OAAO,CAACC,OAAR,EAHrB;;AAAA;AAGQC,YAAAA,IAHR;AAAA;AAAA,mBAKQA,IAAI,CAACC,2BAAL,CAAiC,CAAjC,CALR;;AAAA;AAAA;AAAA,mBAOQD,IAAI,CAACE,WAAL,CAAiB;AAAEC,cAAAA,KAAK,EAAE,IAAT;AAAeC,cAAAA,MAAM,EAAE;AAAvB,aAAjB,CAPR;;AAAA;AAAA;AAAA,mBAQQJ,IAAI,QAAJ,yDAA2DP,aAA3D,GAA4E;AAChFY,cAAAA,SAAS,EAAE;AADqE,aAA5E,CARR;;AAAA;AAAA;AAAA,mBAa6BL,IAAI,CAACM,QAAL,CAAc,YAAM;AAC7C,kBAAMC,GAAG,GAAGC,QAAQ,CAACC,gBAAT,CACV,6FADU,CAAZ;AAIA,kBAAMC,YAAY,GAAG,EAArB;AACAH,cAAAA,GAAG,CAACI,OAAJ,CAAY,UAACC,OAAD,EAAa;AACvB,oBAAMC,SAAS,GAAGD,OAAO,CAACE,aAAR,CAAsB,cAAtB,EAAsCC,WAAxD;AACA,oBAAMC,SAAS,GAAGJ,OAAO,CAACE,aAAR,CAAsB,cAAtB,EAAsCC,WAAxD;;AACA,oBAAIC,SAAS,IAAI,IAAb,IAAqBH,SAAS,IAAI,IAAtC,EAA4C;AAC1CH,kBAAAA,YAAY,CAACO,IAAb,CAAkB;AAChBC,oBAAAA,KAAK,EAAEL,SADS;AAEhBM,oBAAAA,KAAK,EAAEH;AAFS,mBAAlB;AAID;AACF,eATD,EAN6C,CAgB7C;;AACA,qBAAON,YAAP;AACD,aAlB0B,CAb7B;;AAAA;AAaQU,YAAAA,YAbR;AAiCE;AACAtB,YAAAA,OAAO,CAACuB,KAAR;AAlCF,6CAmCSD,YAnCT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;eAsCe7B,Y","sourcesContent":["const puppeteer = require('puppeteer');\nasync function getTokoPedia(item) {\n  let processedItem = item.split(' ').join('%20');\n  const browser = await puppeteer.launch({ headless: false }); // for test disable the headlels mode,\n  const page = await browser.newPage();\n\n  await page.setDefaultNavigationTimeout(0);\n\n  await page.setViewport({ width: 1000, height: 926 });\n  await page.goto(`https://www.tokopedia.com/search?st=product&q=${processedItem}`, {\n    waitUntil: 'networkidle2',\n  });\n\n  /** @type {string[]} */\n  const productNames = await page.evaluate(() => {\n    const div = document.querySelectorAll(\n      '#zeus-root > div > div.css-jau1bt > div > div.css-rjanld > div.css-jza1fo > div.css-1g20a2m'\n    );\n\n    const productnames = [];\n    div.forEach((element) => {\n      const titleelem = element.querySelector('.css-1bjwylw').textContent;\n      const priceitem = element.querySelector('.css-1beg0o7').textContent;\n      if (priceitem != null && titleelem != null) {\n        productnames.push({\n          title: titleelem,\n          price: priceitem,\n        });\n      }\n    });\n    // titleelem != null &&\n    return productnames;\n  });\n\n  // console.log(productNames);\n  browser.close();\n  return productNames;\n}\n\nexport default getTokoPedia;\n"],"file":"scraping.js"}